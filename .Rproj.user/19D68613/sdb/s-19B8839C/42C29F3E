{
    "collab_server" : "",
    "contents" : "### --- SERVER --- ###\n\n# =======================================================================================#\n#' AUTOMATED INSIGHTS REPORT - AIR - SHINY APP\n#' \n#' Author: Dean Marchiori\n#' Date: March 2017\n#' Desc: Shiny Package for \"Automated Insights Report\" \n#' Aims to produce a Shiny UI to upload, interact and download a data as a report.\n# =======================================================================================#\n\n# Load package dependencies\nlibrary(shiny)\nlibrary(MVN)\nlibrary(car)\nlibrary(corrgram)\nlibrary(pander)\nlibrary(rmarkdown)\n\nshinyServer(function(input, output) {\n  \n  #Store filename for display only\n  getfilename <- reactive({input$file})\n  \n  # CSV input handler - saves as a reactive obj called dat() \n  dat <- reactive({\n    inFile <- input$file\n    if (is.null(inFile))\n      return(NULL)\n    read.csv(inFile$datapath, header=input$header)\n  })\n  \n  # Interactive Data Preview for main panel\n  output$contents <- renderDataTable({\n    dat()\n  })\n  \n  # Download Report Handler\n  output$downloadReport <- downloadHandler(\n    filename = function() {\n      paste0(\"AIR_Report\", \n              '.pdf')\n    },\n    \n    content = function(file) {\n      src <- normalizePath('airreport.Rmd')\n      # temporarily switch to the temp dir\n      owd <- setwd(tempdir())\n      on.exit(setwd(owd))\n      file.copy(src, 'airreport.Rmd', overwrite = TRUE)\n      out <- render('airreport.Rmd', pdf_document()) \n      file.rename(out, file)\n    }\n  )\n  \n})\n",
    "created" : 1489363343752.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1347610579",
    "id" : "42C29F3E",
    "lastKnownWriteTime" : 1489363254,
    "last_content_update" : 1489363254,
    "path" : "L:/Analytics & Insights/ADA/airapp/server.R",
    "project_path" : "server.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}