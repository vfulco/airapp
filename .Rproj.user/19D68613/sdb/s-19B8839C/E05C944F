{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Automated Insights Report\"\nauthor: \"Diagnosic & Exploratory Data Report\"\ndate: \"`r format(Sys.Date(), '%d %B %Y')`\"\noutput: \n  pdf_document: \n    toc: yes\n---\n\n## Data Profile\n\nDataset name: `r getfilename()[1]`\n\nDimensions: `r dim(dat())[1]` rows and `r dim(dat())[2]` columns.\n\nColumn names: `r colnames(dat())`\n\n\n### Data Structure:\n\n```{r structure, echo=FALSE, message=TRUE, warning=TRUE}\nprint(str(dat()))\n```\n\n\n### Preview \n\n#### Preview of the top 10 rows:\n\n```{r top10, echo=FALSE, message=TRUE, warning=TRUE, results='asis'}\npanderOptions(\"digits\", 2)\npander(head(dat()))\n```\n\n#### Preview of the bottom 10 rows:\n\n```{r bot10, echo=FALSE, message=TRUE, warning=TRUE, results='asis'}\npanderOptions(\"digits\", 2)\npander(tail(dat()))\n```\n\n\n### Missing Values\n\n```{r missingvals, echo=FALSE, message=FALSE, warning=FALSE, results = 'asis'}\nif(sum(sapply(dat(), FUN= function(x) sum(is.na(x)))) == 0){\n  knitr::kable(\"There are no missing (NA) values in the dataset\")\n} else {\n  knitr::kable(sapply(X=dat(), FUN= function(x) sum(is.na(x))))\n}\n```\n\n\n### Number of Records\n\n```{r numrecs, echo=FALSE, message=TRUE, warning=TRUE, results='asis'}\nNum.Records <- NULL\nUnique.Records <- NULL\n\nfor(i in 1:ncol(dat())){\n  Num.Records[i] <- nrow(dat()[i])\n  Unique.Records[i] <- nrow(unique(dat()[i]))\n}\n\nknitr::kable(cbind(Column.Name = colnames(dat()), Num.Records, Unique.Records))\n```\n\n\\pagebreak\n\n## Statistics  \n\n### Summary Statistics\n\n```{r summarystats, echo=FALSE, message=TRUE, warning=TRUE, results='asis'}\npanderOptions(\"digits\", 2)\npander(summary(dat()))\n```\n\n\\pagebreak\n\n## Visualisation\n\n```{r determinenumerics, echo=FALSE, message=TRUE, warning=TRUE}\nnumerics <- as.logical(NULL)\n\nfor(j in 1:ncol(dat())){\n  numerics[j] <- is.numeric(dat()[,j])\n} \n\nx <- dat()[numerics]\n```\n\n\n### Univariate Histograms\n\n```{r histogram, echo=FALSE, message=TRUE, warning=TRUE}\nuniPlot(data = x, mfrow = c(2,2), type = \"histogram\")\npar(mfrow=c(1,1))\n```\n\n\\pagebreak\n\n### Scatterplot Matrix\n\n```{r scatterplot, echo=FALSE, message=TRUE, warning=TRUE}\nif(length(x) <= 1){\n  knitr::kable(\"The scatterplot will only generate if there is more than one numeric variable.\")\n}else{\n  try( scatterplotMatrix(x[,1:min(length(x), 6)], id.col = \"Red\",\n                         main = paste(\"Scatterplot Matrix of\", getfilename()[1]),\n                         diagonal = \"histogram\",\n                         smoother = FALSE,\n                         # reg.line = FALSE,\n                         id.n = 1,\n                         id.method = \"mahal\",\n                         use = \"pairwise.complete.obs\"))\n  knitr::kable(\"Only a maximum of six numeric variables are presented\")\n}\n```\n\n\\pagebreak\n\n### Correlations\n\n```{r correlations, echo=FALSE, message=TRUE, warning=TRUE}\npar(mfrow=c(1,1))\n\nif(length(x) <= 1){\n  knitr::kable(\"The plot will only generate if there is more than one numeric variable.\")\n}else{\n  cormat <- try(cor(x, use = \"na.or.complete\"))\n  knitr::kable(cormat)\n  try(\n    corrgram(cormat, \n             order=NULL, \n             lower.panel=panel.shade,\n             upper.panel=panel.cor, \n             text.panel=panel.txt,\n             main= paste(\"Correllation Plot of\",  getfilename()[1]))\n  )\n}\n\n```\n\n\\pagebreak\n\n### Factor Plots  \n\n```{r factorplot, echo=FALSE, message=TRUE, warning=TRUE}\npar(mfrow=c(2,2))\n\nfor(j in 1:ncol(dat())){\n  if(is.factor(dat()[,j])){\n    barplot(sort(head(table(dat()[j]), n = 20), decreasing= TRUE), \n            horiz= FALSE, \n            col =\"#31688EFF\", \n            ylab = \"Frequency\", \n            las = 2,\n            cex.names= 0.8,\n            main = colnames(dat())[j]\n            )\n  }\n}  \n```\n\n\\pagebreak\n\n## Outliers  \n\nAssessment for multivariate outliers using a Mahalanobis Chi-Square QQ Plot. An observation is an outlier if it's Mahalanobis distance is greater than the chi-square quantile value. \n\n```{r outliers, echo=FALSE, message=TRUE, warning=TRUE}\npar(mfrow=c(1,1))\n\nif(length(x) <= 1){\n  knitr::kable(\"The function will only generate if there is more than one numeric variable.\")\n}else{\n  result = try(mvOutlier(x[1:dim(x)[1],1:dim(x)[2]], qqplot = TRUE, method = \"quan\", label = TRUE))\n try( knitr::kable(result$outlier[result$outlier$Outlier== TRUE,]))\n}\n```\n\n",
    "created" : 1489373911071.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1772182408",
    "id" : "E05C944F",
    "lastKnownWriteTime" : 1489374145,
    "last_content_update" : 1489374145298,
    "path" : "L:/Analytics & Insights/ADA/airapp/airreport.Rmd",
    "project_path" : "airreport.Rmd",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}